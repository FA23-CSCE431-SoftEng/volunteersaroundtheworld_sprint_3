<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="<%= asset_path('user_dash.css') %>">
    <title>User Dashboard</title>
</head>
<body>
<header>
    <div class="container">

        <img src="<%= asset_path('IMG_6562.png') %>" alt="logo" class="logo">

        <nav>
            <ul>
                <li><a href="<%= upcoming_events_path %>">Upcoming Events</a></li>
                <li><a href="<%= events_attended_path %>">Events Attended</a></li>
                <li><a href="<%= user_checkin_path %>">Check In</a></li>
                <li class="logout-button"><a href="<%= logout_path %>">Log Out</a></li>
            </ul>
        </nav>

    <div class="header-content">
        <h1>User Dashboard</h1>
        <% if @current_user && @current_user.isAdmin? %>
            <%= link_to "Admin Dashboard", user_dashboard_path, class: "user-button" %>
        <% end %>
        <%= link_to "Log Out", logout_path, class: "logout-button" %>
    </div>
</header>

<div class="section">
    <h2>Upcoming Events</h2>
    <div class="scrollable-container">
        <div class="event-list">
        <% if @events.present? %>
            <% @events.each do |event| %> 
                <div class="event-item">
                    <div class="event-info">
                        <span>Event Name: <%= event.name %></span>
                        <span>Date: <%= event.date.present? ? event.date.strftime('%m/%d/%y') : "Date not set" %></span>
                    </div>
                    <%= link_to "Check-In", user_checkin_path, class: "checkin-button" %> 
                </div>
            <% end %>
        <% else %>
            <p>No upcoming events.</p>
        <% end %>
    </div>
</header>


<div class="countdown" data-final-countdown-date="<%= @final_countdown_date %>">
  <span class="days"></span> days
  <span class="hours"></span> hours
  <span class="minutes"></span> minutes
</div>

<%= javascript_include_tag 'countdown' %>
</body>
</html>
